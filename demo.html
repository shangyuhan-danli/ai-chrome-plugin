<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ä¾§è¾¹æ é¡µé¢å·¦ç§»æ•ˆæœæ¼”ç¤º</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      transition: transform 0.3s ease;
      overflow-x: hidden;
    }

    /* é¡¶éƒ¨å¯¼èˆªæ  */
    .navbar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 60px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      display: flex;
      align-items: center;
      padding: 0 20px;
      z-index: 1000;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .navbar h1 {
      font-size: 20px;
      font-weight: 600;
    }

    /* ä¸»å†…å®¹åŒº */
    .main-content {
      margin-top: 60px;
      padding: 40px;
      max-width: 1200px;
      margin-left: auto;
      margin-right: auto;
    }

    .card {
      background: white;
      border-radius: 12px;
      padding: 30px;
      margin-bottom: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .card h2 {
      color: #667eea;
      margin-bottom: 15px;
      font-size: 24px;
    }

    .card p {
      line-height: 1.6;
      color: #4b5563;
      margin-bottom: 10px;
    }

    /* æ§åˆ¶æŒ‰é’® */
    .controls {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 15px;
      z-index: 2000;
    }

    .btn {
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }

    .btn-primary {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(102, 126, 234, 0.4);
    }

    .btn-secondary {
      background: white;
      color: #667eea;
      border: 2px solid #667eea;
    }

    .btn-secondary:hover {
      background: #f3f4f6;
    }

    /* ä¾§è¾¹æ  */
    .sidebar {
      position: fixed;
      top: 0;
      right: 0;
      width: 400px;
      height: 100vh;
      background: white;
      box-shadow: -2px 0 8px rgba(0,0,0,0.1);
      transform: translateX(100%);
      transition: transform 0.3s ease;
      z-index: 2147483647;
      display: flex;
      flex-direction: column;
    }

    .sidebar.open {
      transform: translateX(0);
    }

    .sidebar-header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .sidebar-header h3 {
      font-size: 18px;
      font-weight: 600;
    }

    .close-btn {
      background: rgba(255,255,255,0.2);
      border: none;
      color: white;
      width: 32px;
      height: 32px;
      border-radius: 6px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.2s;
    }

    .close-btn:hover {
      background: rgba(255,255,255,0.3);
    }

    .sidebar-content {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
    }

    .chat-message {
      margin-bottom: 20px;
      padding: 15px;
      border-radius: 8px;
      background: #f3f4f6;
    }

    .chat-message.user {
      background: #dbeafe;
      margin-left: 40px;
    }

    .chat-message.assistant {
      background: #f3f4f6;
      margin-right: 40px;
    }

    /* é¡µé¢å·¦ç§»çŠ¶æ€ */
    body.sidebar-open {
      transform: translateX(-400px);
      width: calc(100% + 400px);
    }

    /* å›ºå®šå®šä½å…ƒç´ è¡¥å¿ */
    body.sidebar-open .navbar {
      transform: translateX(400px);
      transition: transform 0.3s ease;
    }

    body.sidebar-open .controls {
      transform: translateX(calc(-50% + 400px));
      transition: transform 0.3s ease;
    }

    /* çŠ¶æ€æŒ‡ç¤ºå™¨ */
    .status {
      position: fixed;
      top: 80px;
      right: 20px;
      background: white;
      padding: 15px 20px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      z-index: 1500;
      font-size: 14px;
      transition: all 0.3s ease;
    }

    body.sidebar-open .status {
      right: 420px;
    }

    .status-item {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
      gap: 20px;
    }

    .status-item:last-child {
      margin-bottom: 0;
    }

    .status-label {
      color: #6b7280;
      font-weight: 500;
    }

    .status-value {
      color: #667eea;
      font-weight: 600;
      font-family: monospace;
    }

    .highlight {
      background: #fef3c7;
      padding: 2px 6px;
      border-radius: 4px;
      font-weight: 600;
    }
  </style>
</head>
<body>
  <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
  <div class="navbar">
    <h1>ğŸ¨ ä¾§è¾¹æ é¡µé¢å·¦ç§»æ•ˆæœæ¼”ç¤º</h1>
  </div>

  <!-- çŠ¶æ€æŒ‡ç¤ºå™¨ -->
  <div class="status">
    <div class="status-item">
      <span class="status-label">Body Transform:</span>
      <span class="status-value" id="transformValue">none</span>
    </div>
    <div class="status-item">
      <span class="status-label">Body Width:</span>
      <span class="status-value" id="widthValue">100%</span>
    </div>
    <div class="status-item">
      <span class="status-label">Sidebar State:</span>
      <span class="status-value" id="sidebarState">closed</span>
    </div>
  </div>

  <!-- ä¸»å†…å®¹åŒº -->
  <div class="main-content">
    <div class="card">
      <h2>ğŸ“– åŠŸèƒ½è¯´æ˜</h2>
      <p>è¿™æ˜¯ä¸€ä¸ªæ¼”ç¤ºé¡µé¢ï¼Œå±•ç¤ºäº†æµè§ˆå™¨æ‰©å±•ä¸­<span class="highlight">ä¾§è¾¹æ æ¨¡å¼ä¸‹é¡µé¢è‡ªåŠ¨å·¦ç§»</span>çš„æ•ˆæœã€‚</p>
      <p>ç‚¹å‡»ä¸‹æ–¹çš„"æ‰“å¼€ä¾§è¾¹æ "æŒ‰é’®ï¼Œè§‚å¯Ÿä»¥ä¸‹å˜åŒ–ï¼š</p>
      <ul style="margin-left: 20px; line-height: 1.8;">
        <li>âœ… æ•´ä¸ªé¡µé¢å‘å·¦å¹³ç§» 400pxï¼ˆåŒ…æ‹¬è¿™æ®µæ–‡å­—ï¼‰</li>
        <li>âœ… ä¾§è¾¹æ ä»å³ä¾§æ»‘å…¥ï¼Œå›ºå®šåœ¨å³ä¾§</li>
        <li>âœ… é¡¶éƒ¨å¯¼èˆªæ ä¿æŒåœ¨åŸä½ï¼ˆé€šè¿‡ transform è¡¥å¿ï¼‰</li>
        <li>âœ… æ§åˆ¶æŒ‰é’®ä¿æŒåœ¨å±å¹•ä¸­å¤®ï¼ˆé€šè¿‡ transform è¡¥å¿ï¼‰</li>
        <li>âœ… å³ä¸Šè§’çŠ¶æ€æŒ‡ç¤ºå™¨å®æ—¶æ˜¾ç¤º CSS å±æ€§å€¼</li>
        <li>âœ… æ‰€æœ‰åŠ¨ç”»å¹³æ»‘è¿‡æ¸¡ï¼ˆ0.3s easeï¼‰</li>
      </ul>
    </div>

    <div class="card">
      <h2>ğŸ”§ æŠ€æœ¯å®ç°</h2>
      <p><strong>æ ¸å¿ƒåŸç†ï¼š</strong>ä½¿ç”¨ CSS Transform å®ç°é¡µé¢å·¦ç§»</p>
      <pre style="background: #f3f4f6; padding: 15px; border-radius: 8px; overflow-x: auto; font-size: 13px; line-height: 1.6;">
// æ‰“å¼€ä¾§è¾¹æ æ—¶
document.body.style.transform = 'translateX(-400px)'
document.body.style.transition = 'transform 0.3s ease'
document.body.style.width = 'calc(100% + 400px)'
document.body.classList.add('sidebar-open')

// å…³é—­ä¾§è¾¹æ æ—¶
document.body.style.transform = ''
document.body.style.width = ''
document.body.classList.remove('sidebar-open')</pre>
    </div>

    <div class="card">
      <h2>ğŸ¯ ä¼˜åŠ¿åˆ†æ</h2>
      <p><strong>ä¸ºä»€ä¹ˆä½¿ç”¨ Transform è€Œä¸æ˜¯ Marginï¼Ÿ</strong></p>
      <table style="width: 100%; border-collapse: collapse; margin-top: 15px;">
        <thead>
          <tr style="background: #f3f4f6;">
            <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">æ–¹æ¡ˆ</th>
            <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">æ€§èƒ½</th>
            <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">åŠ¨ç”»</th>
            <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">é‡æ’</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="padding: 12px; border: 1px solid #e5e7eb;"><strong>transform</strong> âœ…</td>
            <td style="padding: 12px; border: 1px solid #e5e7eb; color: #10b981;">GPU åŠ é€Ÿ</td>
            <td style="padding: 12px; border: 1px solid #e5e7eb; color: #10b981;">60fps æµç•…</td>
            <td style="padding: 12px; border: 1px solid #e5e7eb; color: #10b981;">ä¸è§¦å‘</td>
          </tr>
          <tr>
            <td style="padding: 12px; border: 1px solid #e5e7eb;"><strong>margin-left</strong></td>
            <td style="padding: 12px; border: 1px solid #e5e7eb; color: #ef4444;">CPU è®¡ç®—</td>
            <td style="padding: 12px; border: 1px solid #e5e7eb; color: #ef4444;">å¯èƒ½å¡é¡¿</td>
            <td style="padding: 12px; border: 1px solid #e5e7eb; color: #ef4444;">è§¦å‘é‡æ’</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="card">
      <h2>ğŸ’¡ ä½¿ç”¨åœºæ™¯</h2>
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-top: 15px;">
        <div style="padding: 15px; background: #f0f9ff; border-radius: 8px; border-left: 4px solid #3b82f6;">
          <strong>ğŸ“ ä»£ç å®¡æŸ¥</strong>
          <p style="margin-top: 8px; font-size: 14px;">å·¦ä¾§æŸ¥çœ‹ä»£ç ï¼Œå³ä¾§ä½¿ç”¨ AI åŠ©æ‰‹è®¨è®º</p>
        </div>
        <div style="padding: 15px; background: #f0fdf4; border-radius: 8px; border-left: 4px solid #10b981;">
          <strong>ğŸ“š æ–‡æ¡£é˜…è¯»</strong>
          <p style="margin-top: 8px; font-size: 14px;">å·¦ä¾§é˜…è¯»æ–‡æ¡£ï¼Œå³ä¾§éšæ—¶æé—®</p>
        </div>
        <div style="padding: 15px; background: #fef3c7; border-radius: 8px; border-left: 4px solid #f59e0b;">
          <strong>ğŸ¥ è§†é¢‘å­¦ä¹ </strong>
          <p style="margin-top: 8px; font-size: 14px;">å·¦ä¾§æ’­æ”¾è§†é¢‘ï¼Œå³ä¾§è®°å½•ç¬”è®°</p>
        </div>
      </div>
    </div>

    <div class="card">
      <h2>ğŸ¨ è§†è§‰æ•ˆæœå¯¹æ¯”</h2>
      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 15px;">
        <div>
          <h4 style="margin-bottom: 10px; color: #6b7280;">æ‚¬æµ®çª—æ¨¡å¼</h4>
          <div style="border: 2px solid #e5e7eb; border-radius: 8px; padding: 20px; position: relative; height: 200px; background: #fafafa;">
            <div style="position: absolute; top: 10px; left: 10px; right: 10px; bottom: 10px; border: 2px dashed #d1d5db; display: flex; align-items: center; justify-content: center; color: #9ca3af;">
              ç½‘é¡µå†…å®¹ï¼ˆä¸ç§»åŠ¨ï¼‰
            </div>
            <div style="position: absolute; right: 30px; top: 50%; transform: translateY(-50%); width: 80px; height: 120px; background: white; border: 2px solid #667eea; border-radius: 6px; display: flex; align-items: center; justify-content: center; font-size: 12px; color: #667eea;">
              æ‚¬æµ®çª—
            </div>
          </div>
        </div>
        <div>
          <h4 style="margin-bottom: 10px; color: #6b7280;">ä¾§è¾¹æ æ¨¡å¼</h4>
          <div style="border: 2px solid #e5e7eb; border-radius: 8px; padding: 20px; position: relative; height: 200px; background: #fafafa; overflow: hidden;">
            <div style="position: absolute; top: 10px; left: -60px; bottom: 10px; width: 200px; border: 2px dashed #d1d5db; display: flex; align-items: center; justify-content: center; color: #9ca3af; font-size: 12px;">
              ç½‘é¡µå†…å®¹<br/>ï¼ˆå·¦ç§» 400pxï¼‰
            </div>
            <div style="position: absolute; right: 10px; top: 10px; bottom: 10px; width: 100px; background: white; border: 2px solid #667eea; border-radius: 6px; display: flex; align-items: center; justify-content: center; font-size: 12px; color: #667eea;">
              ä¾§è¾¹æ <br/>(å›ºå®š)
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- æ§åˆ¶æŒ‰é’® -->
  <div class="controls">
    <button class="btn btn-primary" id="openBtn">ğŸš€ æ‰“å¼€ä¾§è¾¹æ </button>
    <button class="btn btn-secondary" id="closeBtn" style="display: none;">âŒ å…³é—­ä¾§è¾¹æ </button>
  </div>

  <!-- ä¾§è¾¹æ  -->
  <div class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <h3>ğŸ’¬ AI Chat Assistant</h3>
      <button class="close-btn" id="closeBtnInSidebar">âœ•</button>
    </div>
    <div class="sidebar-content">
      <div class="chat-message assistant">
        <strong>AI Assistant:</strong>
        <p style="margin-top: 8px;">ä½ å¥½ï¼æˆ‘æ˜¯ AI åŠ©æ‰‹ã€‚æ³¨æ„è§‚å¯Ÿå·¦ä¾§çš„é¡µé¢å†…å®¹ï¼Œå®ƒå·²ç»å‘å·¦ç§»åŠ¨äº† 400pxï¼Œä¸ºæˆ‘è…¾å‡ºäº†ç©ºé—´ã€‚</p>
      </div>
      <div class="chat-message user">
        <strong>You:</strong>
        <p style="margin-top: 8px;">å¤ªæ£’äº†ï¼é¡µé¢å·¦ç§»çš„åŠ¨ç”»éå¸¸æµç•…ï¼Œè€Œä¸”é¡¶éƒ¨å¯¼èˆªæ ä¿æŒåœ¨åŸä½ã€‚</p>
      </div>
      <div class="chat-message assistant">
        <strong>AI Assistant:</strong>
        <p style="margin-top: 8px;">æ˜¯çš„ï¼è¿™æ˜¯é€šè¿‡ CSS Transform å®ç°çš„ã€‚ä½ å¯ä»¥æŸ¥çœ‹å³ä¸Šè§’çš„çŠ¶æ€æŒ‡ç¤ºå™¨ï¼Œå®æ—¶æ˜¾ç¤ºäº† body å…ƒç´ çš„ transform å’Œ width å±æ€§å€¼ã€‚</p>
      </div>
      <div class="chat-message user">
        <strong>You:</strong>
        <p style="margin-top: 8px;">ä¸ºä»€ä¹ˆä½¿ç”¨ transform è€Œä¸æ˜¯ marginï¼Ÿ</p>
      </div>
      <div class="chat-message assistant">
        <strong>AI Assistant:</strong>
        <p style="margin-top: 8px;">å› ä¸º transform ä½¿ç”¨ GPU åŠ é€Ÿï¼Œä¸ä¼šè§¦å‘é¡µé¢é‡æ’ï¼ˆreflowï¼‰ï¼Œæ€§èƒ½æ›´å¥½ï¼ŒåŠ¨ç”»æ›´æµç•…ã€‚è€Œ margin ä¼šè§¦å‘é‡æ’ï¼Œå¯èƒ½å¯¼è‡´å¡é¡¿ã€‚</p>
      </div>
      <div class="chat-message user">
        <strong>You:</strong>
        <p style="margin-top: 8px;">æ˜ç™½äº†ï¼è¿™ä¸ªå®ç°çœŸçš„å¾ˆä¼˜é›…ã€‚</p>
      </div>
      <div class="chat-message assistant">
        <strong>AI Assistant:</strong>
        <p style="margin-top: 8px;">è°¢è°¢ï¼ä½ å¯ä»¥å°è¯•å…³é—­ä¾§è¾¹æ ï¼Œè§‚å¯Ÿé¡µé¢å¦‚ä½•å¹³æ»‘åœ°æ¢å¤åˆ°åŸä½ã€‚ç‚¹å‡»å³ä¸Šè§’çš„ âœ• æŒ‰é’®æˆ–è€…ä¸‹æ–¹çš„"å…³é—­ä¾§è¾¹æ "æŒ‰é’®éƒ½å¯ä»¥ã€‚</p>
      </div>
    </div>
  </div>

  <script>
    const sidebar = document.getElementById('sidebar')
    const openBtn = document.getElementById('openBtn')
    const closeBtn = document.getElementById('closeBtn')
    const closeBtnInSidebar = document.getElementById('closeBtnInSidebar')
    const transformValue = document.getElementById('transformValue')
    const widthValue = document.getElementById('widthValue')
    const sidebarState = document.getElementById('sidebarState')

    function updateStatus() {
      const transform = document.body.style.transform || 'none'
      const width = document.body.style.width || '100%'
      const isOpen = document.body.classList.contains('sidebar-open')

      transformValue.textContent = transform
      widthValue.textContent = width
      sidebarState.textContent = isOpen ? 'open' : 'closed'
      sidebarState.style.color = isOpen ? '#10b981' : '#ef4444'
    }

    function openSidebar() {
      // é¡µé¢å·¦ç§»
      document.body.style.transform = 'translateX(-400px)'
      document.body.style.transition = 'transform 0.3s ease'
      document.body.style.width = 'calc(100% + 400px)'
      document.body.classList.add('sidebar-open')

      // æ˜¾ç¤ºä¾§è¾¹æ 
      sidebar.classList.add('open')

      // åˆ‡æ¢æŒ‰é’®
      openBtn.style.display = 'none'
      closeBtn.style.display = 'block'

      updateStatus()

      console.log('âœ… ä¾§è¾¹æ å·²æ‰“å¼€')
      console.log('ğŸ“Š Body transform:', document.body.style.transform)
      console.log('ğŸ“Š Body width:', document.body.style.width)
    }

    function closeSidebar() {
      // æ¢å¤é¡µé¢ä½ç½®
      document.body.style.transform = ''
      document.body.style.transition = 'transform 0.3s ease'
      document.body.style.width = ''
      document.body.classList.remove('sidebar-open')

      // éšè—ä¾§è¾¹æ 
      sidebar.classList.remove('open')

      // åˆ‡æ¢æŒ‰é’®
      openBtn.style.display = 'block'
      closeBtn.style.display = 'none'

      updateStatus()

      console.log('âŒ ä¾§è¾¹æ å·²å…³é—­')
      console.log('ğŸ“Š Body transform:', document.body.style.transform || 'none')
      console.log('ğŸ“Š Body width:', document.body.style.width || '100%')
    }

    openBtn.addEventListener('click', openSidebar)
    closeBtn.addEventListener('click', closeSidebar)
    closeBtnInSidebar.addEventListener('click', closeSidebar)

    // åˆå§‹åŒ–çŠ¶æ€
    updateStatus()

    // é”®ç›˜å¿«æ·é”®
    document.addEventListener('keydown', (e) => {
      if (e.ctrlKey && e.shiftKey && e.key === 'S') {
        e.preventDefault()
        if (document.body.classList.contains('sidebar-open')) {
          closeSidebar()
        } else {
          openSidebar()
        }
      }
    })

    console.log('ğŸ’¡ æç¤º: æŒ‰ Ctrl+Shift+S å¯ä»¥å¿«é€Ÿåˆ‡æ¢ä¾§è¾¹æ ')
  </script>
</body>
</html>
